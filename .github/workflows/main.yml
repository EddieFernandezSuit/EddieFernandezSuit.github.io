name: Deploy GitHub Pages

on:
  push:
    branches:
      - main # Customize this to your desired deployment branch

jobs:
  deploy:
    name: Deploy Website
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2
 
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16.x' # Customize this to your desired Node.js version
 
    - name:  Install dependencies
      run: npm ci
  
    - name: Set environment variables
      run: |
        echo "API_KEY=${{ secrets.GIST_KEY }}" >> $GITHUB_ENV
        echo "ANOTHER_VARIABLE=${{ secrets.ANOTHER_VARIABLE }}" >> $GITHUB_ENV
 
      # You can define your environment variables here as shown above using the 'echo' command.
      # Make sure to use the correct secret name for each environment variable you have created in your GitHub repository settings.
 
    - name: Build and deploy
      run: |
        npm run build # Run your build script (e.g., npm run build)
        gh-pages -d build # Deploy the build folder to GitHub Pages
      env:
        NODE_ENV: production  